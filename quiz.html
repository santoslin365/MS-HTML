<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åˆ†æå ±å‘Š | æ€ªç‰©å½ˆç ç‰¹è³ªåˆ†æ</title>
    <style>
        /* --- 1. è¦–è¦ºé¢¨æ ¼ï¼šåŒæ­¥é¦–é çš„å‹•æ…‹æ¼¸å±¤èˆ‡æ¯›ç»ç’ƒæ„Ÿ --- */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', 'Microsoft JhengHei', sans-serif;
            background: linear-gradient(-45deg, #ee7752, #e73c7e, #23a6d5, #23d5ab);
            background-size: 400% 400%;
            animation: gradient 15s ease infinite;
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        @keyframes gradient {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        /* å®¹å™¨ï¼šæ¯›ç»ç’ƒè³ªæ„Ÿ */
        .container {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            border-radius: 20px;
            padding: 40px;
            width: 100%;
            max-width: 700px;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.1);
            animation: fadeIn 0.8s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* åˆ†æå ±å‘Šçš„æ¨™é¡Œèˆ‡å€å¡Šæ¨£å¼ */
        .report-header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(106, 17, 203, 0.1);
        }

        .report-header h1 { color: #2c3e50; font-size: 26px; }
        .player-info { color: #7f8c8d; font-size: 14px; margin-top: 5px; }

        .section {
            margin-bottom: 25px;
            padding: 20px;
            background: rgba(255, 255, 255, 0.6);
            border-radius: 15px;
        }

        .section h2 {
            color: #6a11cb;
            font-size: 18px;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
        }

        .analysis-content {
            color: #34495e;
            line-height: 1.6;
            font-size: 16px;
        }

        /* æŒ‰éˆ•å€åŸŸ */
        .actions {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        button {
            flex: 1;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }

        .btn-primary {
            background: linear-gradient(135deg, #6a11cb 0%, #2575fc 100%);
            color: white;
        }

        .btn-secondary {
            background: #f8f9fa;
            color: #34495e;
            border: 1px solid #e0e0e0;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }

        /* åˆ—å°æ¨¡å¼éš±è—æŒ‰éˆ• */
        @media print {
            .actions { display: none; }
            body { background: white !important; }
            .container { box-shadow: none; border: none; }
        }
    </style>
</head>
<body>

    <div class="container">
        <div class="report-header">
            <h1>ğŸ“Š å°ˆå±¬äººæ ¼åˆ†æå ±å‘Š</h1>
            <div class="player-info" id="playerDisplay">è¼‰å…¥ä¸­...</div>
        </div>

        <div class="section">
            <h2>âœ¨ æ˜Ÿåº§å®ˆè­·ç‰¹è³ª</h2>
            <div class="analysis-content" id="zodiacInfo">
                æ­£åœ¨æ ¹æ“šæ˜Ÿè±¡é‹ç®—ä¸­...
            </div>
        </div>

        <div class="section">
            <h2>ğŸ§  è¡Œç‚ºæ¨¡å¼åˆ†æ</h2>
            <div class="analysis-content" id="behaviorInfo">
                æ­£åœ¨åˆ†ææ‚¨çš„ç­”é¡Œç¿’æ…£...
            </div>
        </div>

        <div class="section" style="background: rgba(106, 17, 203, 0.05); border-left: 5px solid #6a11cb;">
            <h2>ğŸ’¡ AI æŒ‡å—é‡</h2>
            <div class="analysis-content" id="aiAdvice">
                æ­£åœ¨ç”¢å‡ºå°ˆå±¬å»ºè­°...
            </div>
        </div>

        <div class="actions">
            <button class="btn-secondary" onclick="window.print()">ä¿å­˜å ±å‘Š (PDF)</button>
            <button class="btn-primary" onclick="location.href='index.html'">é‡æ–°æ¸¬è©¦</button>
        </div>
    </div>

    <script>
        // --- 1. è§£æç¶²å€å‚³ä¾†çš„åƒæ•¸ ---
        const params = new URLSearchParams(window.location.search);
        const playerId = params.get('playerId') || "å†’éšªè€…";
        const playerNumber = params.get('playerNumber') || "000000000";
        const birthday = params.get('birthday');
        const q1 = params.get('q1');
        const q2 = params.get('q2');
        const q3 = params.get('q3');

        // é¡¯ç¤ºåŸºæœ¬è³‡è¨Š
        document.getElementById('playerDisplay').textContent = 
            `ç©å®¶ï¼š${playerId} | UIDï¼š${playerNumber} | ç”Ÿæ—¥ï¼š${birthday}`;

        // --- 2. æ˜Ÿåº§åˆ¤æ–·é‚è¼¯ ---
        function getZodiac(dateStr) {
            const date = new Date(dateStr);
            const m = date.getMonth() + 1;
            const d = date.getDate();
            
            if ((m == 3 && d >= 21) || (m == 4 && d <= 19)) return { name: "ç™½ç¾Šåº§", trait: "æ´»åŠ›å››å°„ã€å‹‡å¾€ç›´å‰" };
            if ((m == 4 && d >= 20) || (m == 5 && d <= 20)) return { name: "é‡‘ç‰›åº§", trait: "æ²‰ç©©å…§æ–‚ã€è€å¿ƒåè¶³" };
            if ((m == 5 && d >= 21) || (m == 6 && d <= 21)) return { name: "é›™å­åº§", trait: "åæ‡‰æ•æ·ã€å¥½å¥‡å¿ƒå¼·" };
            if ((m == 6 && d >= 22) || (m == 7 && d <= 22)) return { name: "å·¨èŸ¹åº§", trait: "ç´°å¿ƒé«”è²¼ã€é‡è¦–å®‰å…¨æ„Ÿ" };
            if ((m == 7 && d >= 23) || (m == 8 && d <= 22)) return { name: "ç…å­åº§", trait: "è‡ªä¿¡å¤§æ–¹ã€é ˜å°åŠ›å¼·" };
            if ((m == 8 && d >= 23) || (m == 9 && d <= 22)) return { name: "è™•å¥³åº§", trait: "è¿½æ±‚å®Œç¾ã€é‚è¼¯åš´å¯†" };
            if ((m == 9 && d >= 23) || (m == 10 && d <= 23)) return { name: "å¤©ç§¤åº§", trait: "å„ªé›…å¹³è¡¡ã€å–„æ–¼å”èª¿" };
            if ((m == 10 && d >= 24) || (m == 11 && d <= 22)) return { name: "å¤©è åº§", trait: "æ´å¯ŸåŠ›æ·±ã€æ„å¿—å …å®š" };
            if ((m == 11 && d >= 23) || (m == 12 && d <= 21)) return { name: "å°„æ‰‹åº§", trait: "åš®å¾€è‡ªç”±ã€æ¨‚è§€é–‹æœ—" };
            if ((m == 12 && d >= 22) || (m == 1 && d <= 19)) return { name: "æ‘©ç¾¯åº§", trait: "è¸å¯¦è² è²¬ã€æ¯…åŠ›é©šäºº" };
            if ((m == 1 && d >= 20) || (m == 2 && d <= 18)) return { name: "æ°´ç“¶åº§", trait: "å‰µæ„ç„¡é™ã€æ€æƒ³ç¨ç«‹" };
            return { name: "é›™é­šåº§", trait: "æº«æŸ”æµªæ¼«ã€ç›´è¦ºæ•éŠ³" };
        }

        // --- 3. æ¨¡æ“¬åˆ†æé‚è¼¯ ---
        const zodiac = getZodiac(birthday);
        document.getElementById('zodiacInfo').innerHTML = `æ‚¨çš„æ˜Ÿåº§æ˜¯ <strong>${zodiac.name}</strong>ã€‚åœ¨æ˜Ÿè±¡ä¸­ï¼Œæ‚¨å±•ç¾å‡º <strong>${zodiac.trait}</strong> çš„ç‰¹è³ªã€‚`;

        // ç°¡å–®æ ¹æ“š Q1 A/B/C ä¾†åˆ†é¡æ€§æ ¼
        let behaviorType = "";
        let advice = "";
        
        if (q1 === 'A') {
            behaviorType = "ä¸»å‹•æ”»å‹¢å‹";
            advice = "æ‚¨åœ¨é¢å°æŒ‘æˆ°æ™‚å‚¾å‘æ–¼è¿é ­ç—›æ“Šã€‚å»ºè­°åœ¨è¡åˆºæ™‚ï¼Œä¹Ÿè¦æ³¨æ„éšŠå‹çš„å‹•å‘ï¼Œé€™æœƒè®“ä½ çš„å‹ç‡æ›´é«˜ã€‚";
        } else if (q1 === 'B') {
            behaviorType = "å†·éœç­–åŠƒå‹";
            advice = "æ‚¨æ“æœ‰å“è¶Šçš„è§€å¯ŸåŠ›ã€‚åœ¨é—œéµæ™‚åˆ»ï¼Œæ‚¨çš„ç²¾ç¢ºåˆ¤æ–·æ˜¯éšŠä¼ç²å‹çš„æ ¸å¿ƒã€‚ç¹¼çºŒä¿æŒé€™ä»½ç†æ™ºã€‚";
        } else {
            behaviorType = "ç©©å®šå”ä½œå‹";
            advice = "æ‚¨æ˜¯æœ€ä½³çš„å¤¥ä¼´ã€‚æ¯”èµ·å€‹äººè¡¨ç¾ï¼Œæ‚¨æ›´åœ¨ä¹åœ˜éšŠçš„ç©©å®šã€‚åœ¨ç¾å¯¦ç”Ÿæ´»ä¸­ï¼Œæ‚¨ä¹Ÿæ˜¯å¤§å®¶æœ€ä¿¡è³´çš„å¾Œç›¾ã€‚";
        }

        document.getElementById('behaviorInfo').textContent = `åˆ†ææ‚¨çš„å•ç­”çµæœï¼Œæ‚¨å±¬æ–¼ã€Œ${behaviorType}ã€ã€‚`;
        document.getElementById('aiAdvice').textContent = advice;

    </script>
</body>
</html>
